# Sample Index

This directory contains reference Python samples and transpiled outputs for each target language.

<a href="readme-ja.md">
  <img alt="Read in Japanese" src="https://img.shields.io/badge/sample-日本語-2563EB?style=flat-square">
</a>

- Golden manifest: [`golden/manifest.json`](golden/manifest.json)

| No | Sample | Output | Py | C++ | Rust | C# | JS | TS | Go | Java | Kotlin | Swift |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 01 | mandelbrot | - | [`py`](py/01_mandelbrot.py) | [`cpp`](cpp/01_mandelbrot.cpp) | [`rs`](rs/01_mandelbrot.rs) | [`cs`](cs/01_mandelbrot.cs) | [`js`](js/01_mandelbrot.js) | [`ts`](ts/01_mandelbrot.ts) | [`go`](go/01_mandelbrot.go) | [`java`](java/01_mandelbrot.java) | [`kt`](kotlin/01_mandelbrot.kt) | [`swift`](swift/01_mandelbrot.swift) |
| 02 | raytrace_spheres | - | [`py`](py/02_raytrace_spheres.py) | [`cpp`](cpp/02_raytrace_spheres.cpp) | [`rs`](rs/02_raytrace_spheres.rs) | [`cs`](cs/02_raytrace_spheres.cs) | [`js`](js/02_raytrace_spheres.js) | [`ts`](ts/02_raytrace_spheres.ts) | [`go`](go/02_raytrace_spheres.go) | [`java`](java/02_raytrace_spheres.java) | [`kt`](kotlin/02_raytrace_spheres.kt) | [`swift`](swift/02_raytrace_spheres.swift) |
| 03 | julia_set | - | [`py`](py/03_julia_set.py) | [`cpp`](cpp/03_julia_set.cpp) | [`rs`](rs/03_julia_set.rs) | [`cs`](cs/03_julia_set.cs) | [`js`](js/03_julia_set.js) | [`ts`](ts/03_julia_set.ts) | [`go`](go/03_julia_set.go) | [`java`](java/03_julia_set.java) | [`kt`](kotlin/03_julia_set.kt) | [`swift`](swift/03_julia_set.swift) |
| 04 | orbit_trap_julia | [`04_orbit_trap_julia.png`](images/04_orbit_trap_julia.png) | [`py`](py/04_orbit_trap_julia.py) | [`cpp`](cpp/04_orbit_trap_julia.cpp) | [`rs`](rs/04_orbit_trap_julia.rs) | [`cs`](cs/04_orbit_trap_julia.cs) | [`js`](js/04_orbit_trap_julia.js) | [`ts`](ts/04_orbit_trap_julia.ts) | [`go`](go/04_orbit_trap_julia.go) | [`java`](java/04_orbit_trap_julia.java) | [`kt`](kotlin/04_orbit_trap_julia.kt) | [`swift`](swift/04_orbit_trap_julia.swift) |
| 05 | mandelbrot_zoom | - | [`py`](py/05_mandelbrot_zoom.py) | [`cpp`](cpp/05_mandelbrot_zoom.cpp) | [`rs`](rs/05_mandelbrot_zoom.rs) | [`cs`](cs/05_mandelbrot_zoom.cs) | [`js`](js/05_mandelbrot_zoom.js) | [`ts`](ts/05_mandelbrot_zoom.ts) | [`go`](go/05_mandelbrot_zoom.go) | [`java`](java/05_mandelbrot_zoom.java) | [`kt`](kotlin/05_mandelbrot_zoom.kt) | [`swift`](swift/05_mandelbrot_zoom.swift) |
| 06 | julia_parameter_sweep | [`06_julia_parameter_sweep.gif`](images/06_julia_parameter_sweep.gif) | [`py`](py/06_julia_parameter_sweep.py) | [`cpp`](cpp/06_julia_parameter_sweep.cpp) | [`rs`](rs/06_julia_parameter_sweep.rs) | [`cs`](cs/06_julia_parameter_sweep.cs) | [`js`](js/06_julia_parameter_sweep.js) | [`ts`](ts/06_julia_parameter_sweep.ts) | [`go`](go/06_julia_parameter_sweep.go) | [`java`](java/06_julia_parameter_sweep.java) | [`kt`](kotlin/06_julia_parameter_sweep.kt) | [`swift`](swift/06_julia_parameter_sweep.swift) |
| 07 | game_of_life_loop | - | [`py`](py/07_game_of_life_loop.py) | [`cpp`](cpp/07_game_of_life_loop.cpp) | [`rs`](rs/07_game_of_life_loop.rs) | [`cs`](cs/07_game_of_life_loop.cs) | [`js`](js/07_game_of_life_loop.js) | [`ts`](ts/07_game_of_life_loop.ts) | [`go`](go/07_game_of_life_loop.go) | [`java`](java/07_game_of_life_loop.java) | [`kt`](kotlin/07_game_of_life_loop.kt) | [`swift`](swift/07_game_of_life_loop.swift) |
| 08 | langtons_ant | - | [`py`](py/08_langtons_ant.py) | [`cpp`](cpp/08_langtons_ant.cpp) | [`rs`](rs/08_langtons_ant.rs) | [`cs`](cs/08_langtons_ant.cs) | [`js`](js/08_langtons_ant.js) | [`ts`](ts/08_langtons_ant.ts) | [`go`](go/08_langtons_ant.go) | [`java`](java/08_langtons_ant.java) | [`kt`](kotlin/08_langtons_ant.kt) | [`swift`](swift/08_langtons_ant.swift) |
| 09 | fire_simulation | - | [`py`](py/09_fire_simulation.py) | [`cpp`](cpp/09_fire_simulation.cpp) | [`rs`](rs/09_fire_simulation.rs) | [`cs`](cs/09_fire_simulation.cs) | [`js`](js/09_fire_simulation.js) | [`ts`](ts/09_fire_simulation.ts) | [`go`](go/09_fire_simulation.go) | [`java`](java/09_fire_simulation.java) | [`kt`](kotlin/09_fire_simulation.kt) | [`swift`](swift/09_fire_simulation.swift) |
| 10 | plasma_effect | - | [`py`](py/10_plasma_effect.py) | [`cpp`](cpp/10_plasma_effect.cpp) | [`rs`](rs/10_plasma_effect.rs) | [`cs`](cs/10_plasma_effect.cs) | [`js`](js/10_plasma_effect.js) | [`ts`](ts/10_plasma_effect.ts) | [`go`](go/10_plasma_effect.go) | [`java`](java/10_plasma_effect.java) | [`kt`](kotlin/10_plasma_effect.kt) | [`swift`](swift/10_plasma_effect.swift) |
| 11 | lissajous_particles | - | [`py`](py/11_lissajous_particles.py) | [`cpp`](cpp/11_lissajous_particles.cpp) | [`rs`](rs/11_lissajous_particles.rs) | [`cs`](cs/11_lissajous_particles.cs) | [`js`](js/11_lissajous_particles.js) | [`ts`](ts/11_lissajous_particles.ts) | [`go`](go/11_lissajous_particles.go) | [`java`](java/11_lissajous_particles.java) | [`kt`](kotlin/11_lissajous_particles.kt) | [`swift`](swift/11_lissajous_particles.swift) |
| 12 | sort_visualizer | - | [`py`](py/12_sort_visualizer.py) | [`cpp`](cpp/12_sort_visualizer.cpp) | [`rs`](rs/12_sort_visualizer.rs) | [`cs`](cs/12_sort_visualizer.cs) | [`js`](js/12_sort_visualizer.js) | [`ts`](ts/12_sort_visualizer.ts) | [`go`](go/12_sort_visualizer.go) | [`java`](java/12_sort_visualizer.java) | [`kt`](kotlin/12_sort_visualizer.kt) | [`swift`](swift/12_sort_visualizer.swift) |
| 13 | maze_generation_steps | - | [`py`](py/13_maze_generation_steps.py) | [`cpp`](cpp/13_maze_generation_steps.cpp) | [`rs`](rs/13_maze_generation_steps.rs) | [`cs`](cs/13_maze_generation_steps.cs) | [`js`](js/13_maze_generation_steps.js) | [`ts`](ts/13_maze_generation_steps.ts) | [`go`](go/13_maze_generation_steps.go) | [`java`](java/13_maze_generation_steps.java) | [`kt`](kotlin/13_maze_generation_steps.kt) | [`swift`](swift/13_maze_generation_steps.swift) |
| 14 | raymarching_light_cycle | - | [`py`](py/14_raymarching_light_cycle.py) | [`cpp`](cpp/14_raymarching_light_cycle.cpp) | [`rs`](rs/14_raymarching_light_cycle.rs) | [`cs`](cs/14_raymarching_light_cycle.cs) | [`js`](js/14_raymarching_light_cycle.js) | [`ts`](ts/14_raymarching_light_cycle.ts) | [`go`](go/14_raymarching_light_cycle.go) | [`java`](java/14_raymarching_light_cycle.java) | [`kt`](kotlin/14_raymarching_light_cycle.kt) | [`swift`](swift/14_raymarching_light_cycle.swift) |
| 15 | wave_interference_loop | [`15_wave_interference_loop.gif`](images/15_wave_interference_loop.gif) | [`py`](py/15_wave_interference_loop.py) | [`cpp`](cpp/15_wave_interference_loop.cpp) | [`rs`](rs/15_wave_interference_loop.rs) | [`cs`](cs/15_wave_interference_loop.cs) | [`js`](js/15_wave_interference_loop.js) | [`ts`](ts/15_wave_interference_loop.ts) | [`go`](go/15_wave_interference_loop.go) | [`java`](java/15_wave_interference_loop.java) | [`kt`](kotlin/15_wave_interference_loop.kt) | [`swift`](swift/15_wave_interference_loop.swift) |
| 16 | glass_sculpture_chaos | [`16_glass_sculpture_chaos.gif`](images/16_glass_sculpture_chaos.gif) | [`py`](py/16_glass_sculpture_chaos.py) | [`cpp`](cpp/16_glass_sculpture_chaos.cpp) | [`rs`](rs/16_glass_sculpture_chaos.rs) | [`cs`](cs/16_glass_sculpture_chaos.cs) | [`js`](js/16_glass_sculpture_chaos.js) | [`ts`](ts/16_glass_sculpture_chaos.ts) | [`go`](go/16_glass_sculpture_chaos.go) | [`java`](java/16_glass_sculpture_chaos.java) | [`kt`](kotlin/16_glass_sculpture_chaos.kt) | [`swift`](swift/16_glass_sculpture_chaos.swift) |
| 17 | monte_carlo_pi | - | [`py`](py/17_monte_carlo_pi.py) | [`cpp`](cpp/17_monte_carlo_pi.cpp) | [`rs`](rs/17_monte_carlo_pi.rs) | [`cs`](cs/17_monte_carlo_pi.cs) | [`js`](js/17_monte_carlo_pi.js) | [`ts`](ts/17_monte_carlo_pi.ts) | [`go`](go/17_monte_carlo_pi.go) | [`java`](java/17_monte_carlo_pi.java) | [`kt`](kotlin/17_monte_carlo_pi.kt) | [`swift`](swift/17_monte_carlo_pi.swift) |
| 18 | mini_language_interpreter | - | [`py`](py/18_mini_language_interpreter.py) | [`cpp`](cpp/18_mini_language_interpreter.cpp) | [`rs`](rs/18_mini_language_interpreter.rs) | [`cs`](cs/18_mini_language_interpreter.cs) | [`js`](js/18_mini_language_interpreter.js) | [`ts`](ts/18_mini_language_interpreter.ts) | [`go`](go/18_mini_language_interpreter.go) | [`java`](java/18_mini_language_interpreter.java) | [`kt`](kotlin/18_mini_language_interpreter.kt) | [`swift`](swift/18_mini_language_interpreter.swift) |

Notes:
- `-` in `Output` means the sample does not currently publish an image/GIF artifact in `sample/images/`.
- This index is path-based and intended for GitHub folder browsing.

## Sample Operation Guide

### Purpose

`sample/` is the directory for transpiling practical Python samples into each target language and comparing execution results and runtime.

### Directory Structure

- [`py/`](py): Source Python samples (currently `01` to `18`)
- [`cpp/`](cpp): C++ transpilation outputs
- [`cs/`](cs): C# transpilation outputs
- [`rs/`](rs): Rust transpilation outputs
- [`js/`](js): JavaScript transpilation outputs
- [`ts/`](ts): TypeScript transpilation outputs
- [`go/`](go): Go transpilation outputs
- [`java/`](java): Java transpilation outputs
- [`swift/`](swift): Swift transpilation outputs
- [`kotlin/`](kotlin): Kotlin transpilation outputs
- [`images/`](images): Static images for README rendering (tracked by Git)
- `obj/`: Build artifacts for each language (not tracked by Git)
- `out/`: Runtime output images (PNG/GIF, not tracked by Git)

### Measurement Conditions (README Table Baseline)

- Python: `PYTHONPATH=src python3 sample/py/<file>.py`
- C++: `g++ -std=c++20 -O3 -ffast-math -flto -I src ...`
- C#: `mcs ...` + `mono ...`
- Rust: `rustc -O ...`
- JavaScript: `node sample/js/<file>.js`
- TypeScript: Compile with `tsc ...`, then run with `node ...`
- Go: `go run` or execute after `go build`
- Java: `javac` + `java`
- Swift: Executable built with `swiftc`
- Kotlin: `jar` built with `kotlinc -include-runtime`

Note:
- `py2go.py` / `py2java.py` / `py2swift.py` / `py2kotlin.py` are currently in preview emitter status.
- For these four languages, outputs are minimal entry files with intermediate-code comments, so they are excluded from runtime comparison.

### Runtime Notes

- When running `sample/py/` as Python directly, add `PYTHONPATH=src` for `pylib` resolution.

```bash
PYTHONPATH=src python3 sample/py/01_mandelbrot.py
```

### Relation To Test Code

`test/` and `sample/` have different roles: `test/` is for small feature checks, `sample/` is for practical, heavier-load cases.

- [`../test/fixtures`](../test/fixtures): Source test code for transpilation
- [`../test/unit`](../test/unit): Unit tests
- `../test/transpile/`: Working directory for transpilation artifacts (not tracked by Git)
  - Not viewable on GitHub. Generate locally by running transpilation when needed.

### Notes On Image Matching

- `tools/verify_sample_outputs.py` compares C++ execution results (`stdout` / artifacts) against `sample/golden/manifest.json`.
- In normal runs, Python is not executed every time; Python runs only when refreshing golden baselines.
- Artifacts are checked by `suffix` / `size` / `sha256`, which effectively enforces byte-level parity.

To run image parity checks automatically:

```bash
python3 tools/verify_sample_outputs.py --compile-flags="-O2"
```

- You can inspect both `stdout` diffs and artifact diffs (`sha256` / `size` / `suffix`) together.
- If the source changed and golden is stale, the command fails and asks you to run `--refresh-golden`.

If you want to ignore `stdout` diffs such as elapsed time and check image parity only:

```bash
python3 tools/verify_sample_outputs.py --ignore-stdout --compile-flags="-O2"
```

To refresh golden baselines by running Python outputs:

```bash
python3 tools/verify_sample_outputs.py --refresh-golden --refresh-golden-only
```
