# Pytraとは何？

Pytraは、Pythonのサブセットで書かれたプログラムを他の様々な言語に変換するためのトランスパイラ群です。

現状サポートしている変換先の言語は、
- C++
- C#
- 🚧 JavaScript
です。

例えば、C++のコードに変換して、gccでコンパイルして実行すると、元のコードの10～100倍程度高速化されます。

## 開発動機

マルチプラットフォーム対応のゲームを作ろうと思うと、現在は、Unityが現実解です。UnityではC#で書く必要があります。私はサーバーサイドは、Pythonで書きたかったのですが、ブラウザ側もあるなら、そこはJavaScriptで書く必要があります。

こうなると3つの言語を行き来することになります。場合によっては同じロジックを3回実装しなければなりません。これはさすがにおかしいのではないか？と思ったのが開発のきっかけです。

また、素のPythonだと遅すぎてサーバーサイドで大量のリクエストを捌くのには向かないです。ここが少しでも速くなればと思い、開発しました。

JavaScriptのコードにも変換できるので、Pythonでブラウザゲームの開発もできます。

## トランスパイラ本体

- Python → C++ : [src/py2cpp.py](src/py2cpp.py)
- Python → C# : [src/py2cs.py](src/py2cs.py)
- Python → JavaScript : 🚧[src/py2js.py](src/py2js.py)

## 変換例

どのようなコードに変換されるのかは、以下のフォルダのファイルをご覧ください。

### テストコード

10行程度の簡単なコードがどう変換されるか確認するためのもの。

- [test/py](test/py) : テストコード。(Pythonで書かれたファイル。)
- [test/cpp](test/cpp) : テストコードをC++のコードに変換したもの。
- [test/cs](test/cs) : テストコードをC#のコードに変換したもの。
- [test/js](test/js) : 🚧テストコードをJavaScriptのコードに変換したもの。

### サンプルコード

実行に数秒を要する数十行程度のサンプルコードを別の言語に変換して、その実行時間を比較するためのもの。

- [sample/py](test/py) : サンプルコード Pythonで書かれた14個のファイル。
- [sample/cpp](test/cpp) : サンプルコードをC++のコードに変換したもの。
- [sample/cs](test/cs) : サンプルコードをC#のコードに変換したもの。
- [sample/js](test/js) : 🚧サンプルコードをJavaScriptのコードに変換したもの。

## 実行速度の比較

サンプルコードの実行時間。

|ファイル名|内容| Python(元のコード) | C++に変換したコード | C#に変換したコード | JSに変換したコード |
|-|-|-|-|-|-|
|01_mandelbrot|マンデルブロ集合をPNG出力| 1000[ms] | 300[ms] | 400[ms] | 🚧 |

## 言語的制約

- Pythonのsubset言語です。(通常のPythonのコードとして実行できます。)
- 型を明示する必要があります。
- intは、64-bit 符号付き整数型です。
- double, floatは、各言語のdouble, floatです。

## 実装済みの言語機能



## 未実装項目



## 開発について

本コードは、GPT-5.3-Codexで開発しています。

## ライセンス

MIT License

