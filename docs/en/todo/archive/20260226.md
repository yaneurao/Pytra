# TODO History (2026-02-26)

<a href="../../../ja/todo/archive/20260226.md">
  <img alt="Read in Japanese" src="https://img.shields.io/badge/docs-日本語-2563EB?style=flat-square">
</a>

## 2026-02-26 Migration: `P0: Unify isinstance into type_id interval checks (Highest)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p0-isinstance-single-inheritance.md` (`P0-ISINSTANCE-01`)

Completed:
- `[ID: P0-ISINSTANCE-01]` unified `isinstance` under single-inheritance `type_id_min/type_id_max` semantics, removing name-string comparisons and multiple-inheritance inference paths.
- `[ID: P0-ISINSTANCE-01-S1..S5]` completed across C++/JS/TS/RS/CS lowering/runtime paths, parser-side multiple-base explicit errors, range-table regression tests, and final spec sync.

## 2026-02-26 Migration: `P0: all-language sample golden-match pipeline (Highest)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p0-sample-all-languages-golden-pipeline.md` (`P0-SAMPLE-GOLDEN-ALL-01`)

Completed:
- Parent `[ID: P0-SAMPLE-GOLDEN-ALL-01]` and all child tasks `[S1..S8]`.
- Reached 18-case parity completion across all 9 targets (`cpp/rs/cs/js/ts/go/java/swift/kotlin`) with fixed compare protocol and README reflection.

## 2026-02-26 Migration: `P1: remove pylib compatibility normalization from CppEmitter (Medium)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p1-cpp-emitter-remove-pylib-compat.md` (`P1-CPP-EMIT-NORM-01`)

Completed:
- Parent and `[S1..S3]` completed.
- Removed `_normalize_runtime_module_name` dependency in C++ emitter paths and closed legacy `pylib.*` assumptions.

## 2026-02-26 Migration: `P1: remove CppEmitter multiple inheritance (Medium)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p1-cpp-emitter-no-multiple-inheritance.md` (`P1-CPP-EMIT-NOMI-01`)

Completed:
- Parent and `[S1..S2]` completed.
- Converged to single inheritance + explicit delegation/injection model.

## 2026-02-26 Migration: `P1: template-ize C++ runtime conversion helpers (Medium)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p1-cpp-py_to-template.md` (`P1-CPP-PYTO-01`)

Completed:
- Parent and `[S1..S3]` completed.
- Introduced `py_to<T>()` with backward-compatible wrapper strategy and updated codegen/runtime checks.

## 2026-02-26 Migration: `P2: C++ selfhost virtual-dispatch simplification (completed subtasks)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p2-cpp-virtual-selfhost-dispatch.md` (`P2-CPP-SELFHOST-VIRTUAL-01`)

Completed in this migration group:
- `[S1-01..S1-03]` scope extraction/classification/prioritization completed.
- Determined class-dispatch `type_id` branch targets were effectively absent in scanned regions; non-target boundaries documented.

## 2026-02-26 Migration: `P0: correct sample C++/Rust performance gap (Highest)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p0-sample-cpp-rs-perf-gap.md` (`P0-SAMPLE-CPP-RS-PERF-01`)

Completed:
- Parent and full staged sequence (`S1` through `S17`) completed.
- Reached no-outlier state (`max(cpp/rs, rs/cpp) <= 1.5x`) across 18 sample cases in final remeasurement.
- README JA/EN benchmark tables and protocol notes updated.

## 2026-02-26 Migration: `P2: C++ selfhost virtual-dispatch simplification (Low)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p2-cpp-virtual-selfhost-dispatch.md` (`P2-CPP-SELFHOST-VIRTUAL-01`)

Completed:
- Parent and `[S2-01..S5-03]` completed.
- Introduced explicit `virtual/direct/fallback` dispatch-mode structure in class-method call rendering.
- Added regression tests for base/super/static/class/object-receiver boundaries and selfhost skip-build e2e checks.

## 2026-02-26 Migration: `P3: non-C++ emitters direct EAST3 and remove EAST2 compatibility (Low)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p3-east3-only-emitters.md` (`P3-EAST3-ONLY-01`)

Completed:
- Parent and all child tasks completed (`S1-01` to `S7-02`).
- Removed `--east-stage 2` compatibility and `east3_legacy_compat` path from non-C++ 8-target route.
- Locked full smoke/transpile/parity regressions.

## 2026-02-26 Migration: `P0: staged slimming of C++ emitter bloat (Highest)`

Moved from `docs/ja/todo/index.md` to archive.

Context: `docs/ja/plans/p0-cpp-emitter-slimming.md` (`P0-CPP-EMITTER-SLIM-01`)

Completed:
- Parent and all child tasks completed (`S1-01` to `S8-04`).
- Final metrics reached target set (`cpp_emitter.py <= 2500`, `render_expr <= 200`, legacy helper count `0`).
